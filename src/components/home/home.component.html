<div class="flex flex-col gap-4 h-full w-full relative">
  <div id="map" class="w-full h-full" style="z-index: 1;"></div>
  <div
    #buttons
    class="absolute bottom-32 w-full max-w-[40rem] flex gap-4 px-4 md:px-0 items-center justify-end place-self-center"
    style="z-index: 10000;"
  >
    <a
      appearance="floating"
      [href]="mapUrl()"
      iconStart="@tui.map-pin"
      rel="noopener noreferrer"
      size="m"
      target="_blank"
      tuiIconButton
    >
      Map
    </a>
    @if (websiteUrl()) {
      <a
        appearance="floating"
        [href]="websiteUrl()"
        iconStart="@tui.external-link"
        rel="noopener noreferrer"
        size="m"
        target="_blank"
        tuiIconButton
      >
        Website
      </a>
    }
  </div>
  <tui-bottom-sheet
    [stops]="stops"
    (scroll.zoneless)="onScroll($any($event.target))"
    style="position: absolute; bottom: 0; left: 0; right: 0; z-index: 9999;"
  >
    <h3 tuiHeader>
      <span tuiTitle>
        {{ locationName() }}
        @if (locationRegion()) {
          <span tuiSubtitle>{{ locationRegion() }}</span>
        }
      </span>
    </h3>
    <div class="flex flex-col gap-4 my-4">
      @for (detail of locationDetails(); track detail.label) {
        <div tuiTitle>
          <strong>{{ detail.label }}</strong>
          <span tuiSubtitle>{{ detail.value }}</span>
        </div>
      }
    </div>
    {{ locationDescription() }}
  </tui-bottom-sheet>
</div>
